<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" 
		xmlns:h="http://java.sun.com/jsf/html" 
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>

	<title>#{i18n['dw4.cambio_password']}</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<!-- javascript -->
	<script type="text/javascript" src="../common/js/jquery.js"></script>
	<script type="text/javascript" src="../common/js/jquery.formatCurrency-1.4.0.js"></script>
	<script type="text/javascript" src="../bootstrap/js/bootstrap.js"></script>
	<script type="text/javascript" src="../common/js/bootstrap-datepicker.js"></script>
	<script type="text/javascript" src="../common/js/common.js"></script>

	<link href="../favicon.ico" type="image/png" rel="icon"/>

	<!-- styles -->
	<link href="../bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
	<h:panelGroup rendered="#{docwayInit.languageOrientation eq 'rtl'}">
		<link href="../bootstrap/css/bootstrap-rtl.css" rel="stylesheet" type="text/css" />
	</h:panelGroup>
	<link href="../bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css" />
	<link href="../common/css/login.css" rel="stylesheet" type="text/css" />
	
	<h:panelGroup rendered="#{!empty docwayInit.customDirCss}">
		<link href="#{facesContext.externalContext.requestContextPath}/docway/css/#{docwayInit.customDirCss}/docway.css" rel="stylesheet" type="text/css" />
	</h:panelGroup>

</h:head>
<h:body styleClass="#{docwayInit.languageOrientation}">

	<div class="container">
		<h:form id="templateForm" class="form-change-password">
			<div class="row" style="text-align:center; margin-bottom:20px;">
				<img src="#{facesContext.externalContext.requestContextPath}/common/css/#{(!empty docwayInit.customDirCss) ? docwayInit.customDirCss.concat('/') : ''}images/logo/docway-big.png" alt="DocWay" />
			</div>

			<!-- messages: inizio -->
			<h:panelGroup rendered="#{not empty facesContext.messageList}" layout="block" styleClass="docedit-messages alert alert-danger">
				<h:messages styleClass="" id="validationMesseges" />
			</h:panelGroup>

			<div class="alert alert-info">#{i18n['dw4.necessario_cambio_password']}</div>
			<fieldset>
				<legend>#{i18n['dw4.cambio_password']}:</legend>

				<div class="change-password-input-containers">
					<label for="password" class="string control-label">
						#{i18n["dw4.current_password"]}
					</label>
					<h:inputSecret type="password" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"
								   id="password" autofocus="autofocus" placeholder="#{i18n['dw4.current_password']}"
								   value="#{forceChangePassword.password}" />

					<label for="newpassword" class="string control-label margin-top-10">
						#{i18n["dw4.new_password"]}
					</label>
					<h:inputSecret type="password" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"
								   id="newpassword" autofocus="autofocus" placeholder="#{i18n['dw4.new_password']}"
								   value="#{forceChangePassword.newpassword}" />

					<label for="confirmpassword" class="string control-label margin-top-10">
						#{i18n["dw4.confirm_password"]}
					</label>
					<h:inputSecret type="password" styleClass="#{ component.valid ? '' : 'invalidinput' } form-control"
								   id="confirmpassword" placeholder="#{i18n['dw4.confirm_password']}"
								   value="#{forceChangePassword.confirmPassword}" />
				</div>

				<div class="col-xs-6 cp-logout">
					<h:commandLink styleClass="btn btn-default width-100" action="#{userBean.logout}">
						#{i18n["dw4.logout"]}
					</h:commandLink>
				</div>
				<div class="col-xs-6 cp-confirm">
					<h:commandLink styleClass="btn btn-primary width-100" action="#{forceChangePassword.confirmChangePwd}">
						#{i18n["dw4.conferma"]}
					</h:commandLink>
				</div>
			</fieldset>
			<ui:include src="./errormsg.xhtml" />
		</h:form>
	</div>


</h:body>	
</html>
